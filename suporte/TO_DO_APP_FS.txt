
(!!!) CODIFICAR NA BRANCH 'dev' (!!!)

******************************************************
******************** APP FINSCORE ********************
******************************************************

* Feito por F.V.
* Cliente: Assertif
* Início: 24/07/2025

//////////////////////////////////////////////
Controle de Versões
//////////////////////////////////////////////
** Alpha    :  0.x.yy
** Beta     :  1.x.yy
** Estáveis :  2+.x.yy (+codinome: pers. lit.)
* x         : Mudanças significativas
* y         : Pequenos ajustes  
* Letras    : Alterações e ajustes incrementais, junto a yy (a, b, ..., z)
......................................................................................................................

====================================
Links e dicas
====================================
Logo                    : https://turbologo.com/
Emojis                  : https://emojipedia.org/
Cores hex               : https://www.color-hex.com/
Streamlit               : https://docs.streamlit.io/ (documentação)
                          https://share.streamlit.io/ (publish)
Streamlit-option-menu   : https://github.com/victoryhb/streamlit-option-menu
Streamlit deploy: https ://finscore-alpha.streamlit.app/?p=lanc
OpenAI API Keys         : https://platform.openai.com/api-keys
OpenAI Usage            : https://platform.openai.com/usage
Boostrap                : https://getbootstrap.com/docs/5.3/components
......................................................................................................................

====================================
0. SETAR O PROJETO
====================================

=====Novidades=====
* (x) Mockup Projeto.
* (x) Organizar Github e VS Code.
* (x) Instalar pacotes python.
* (x) Versão alpha 0.1:
    - (x) Menus;
    - (x) Gráficos e tabelas;
    - (x) Apresentação André.
---
Até aqui:
[v. 0.1, de 19/08/2025]
---

// Entre o dia 20/08 e 01/09/2025 fiquei tentando codificar o promtp do LangChain para padronizar as saídas do 
Parecer com base nos resultados da IA, utilizando o arquivo ipynb. Decidi voltar para a construção do app e deixar 
isso para o final. 

====================================
1. CONFIGURAÇÃO DE VISUAL
====================================

=====Novidades=====
* (x) Cores.
* (x) Integração dos menus com logos e posicionamento.
* (x) Botões.
* (x) Comportamento do APP.
---
Até aqui:
[v. 0.2, de 02/09/2025]
---

=====Novidades=====
* (x) Logo Assertif em todas as seções/views.
---
Até aqui:
[v. 0.3, de 02/09/2025]
---

=====Novidades=====
* (x) Planilha Excel (local) e Google Docs (web) funcionando.
---
Até aqui:
[v. 0.4, de 02/09/2025]
---

=====Novidades=====
* (x) Após "processamento concluído" automaticamente vai para a seção "Resumo".
---
Até aqui:
[v. 0.5, de 02/09/2025]
---

=====Novidades=====
* (x) Substituição de radio por abas na view/seção 'Novo'.
* (x) Seções André.
    - (x) Readequação da v. 0.5 (views/seções diferentes).
    - (x) Resultados (Abas: Resumo, Tabelas e Gráficos da v. 0.1):
        - (x) Dividido em abas (Resumo, Tabelas e Gráficos);
        - (x) Resumo;
        - (x) Tabelas;
        - (x) Gráficos.

    - (x) Parecer (LangChain/OpenAI).

    - (x) sobre:
        - (x) Dividido em abas (Abas: Metodologia, Glossário e FAQ);
        - (x) Glossário;
        - (x) FAQ;
        - (x) Contato.

* (x) Consistência visual (cores e ícones).
---
Até aqui:
[v. 0.6, de 02/09/2025]
---

=====Novidades=====
* (x) Formatação e alinhamento de textos nas views/abas.
---
Até aqui:
[v. 0.6.01, de 05/09/2025]
---

===============================================
2. ORGANIZAÇÃO E FUNCIONALIDADES
===============================================

---------------------------------
2.1 Estrutura da página
---------------------------------

=====Novidades=====
* (x) Seção Metodologia iniciada.
---
Até aqui:
[v. 0.7, de 06/09/2025]
---

=====Novidades=====
* (x) Criar topbar na parte superior (início, novo, relatórios, usuários etc).
---
Até aqui:
[v. 0.7.10, de 06/09/2025]
---

=====Novidades=====
* (x) Encerrada a formatação da versão estática da topbar.
* (x) Centralização das abas e formatação de textos nas seções/views.
* (x) Renomear as views: 'Novo' para 'Lançamentos', e 'Resultados' para 'Análise'.
---
Até aqui:
[v. 0.7.11, de 06/09/2025]
---

=====Novidades=====
* (x) Guia rápido e Lançamentos/Início (ideia inicial).
---
Até aqui:
[v. 0.7.12, de 07/09/2025]
---

=====Novidades=====
* ( ) Topbar interativa:
    - (x) Criação da página Guia Rápido;
    - (x) Criação da página Início;
    - (x) Ajuste para igualar largura com as margens dos textos.
---
Até aqui:
[v. 0.7.13, de 07/09/2025]
---

=====Ajustes=====
* (x) Troquei 'Início' por 'Página Principal' em topbar (evitar confusão com lancamentos.py).
* (x) Ajuste da largura da topbar para se alinhar ao texto.
* (x) Diversos (8 horas nisso!!) conflitos entra sidebar e topbar.
=====Novidades=====
* (x) Remover opção de fechar barra lateral [v. 0.7.13a, de 07/09/2025].
---
Até aqui:
[v. 0.7.14, de 08/09/2025]
---

---------------------------------
2.2 Funcionalidades
---------------------------------

=====Ajustes=====
* (x) Resolvendo de vez conflitos entre topbar e sidebar:
    - (x) state_manager.py, config.py;
    - (x) Atualização app.py, nav.py e topbar.py;
    - (x) Testes.
---
Até aqui:
[v. 0.7.15, de 08/09/2025]
---

=====Ajustes=====
* (x) Clicar em 'Sobre' após calcular o FinScore precisa de clique duplo.
* ( ) Diminuir 1cm de cada lado as margens dos textos [Não funcionou - decidi manter como está].
* (x) Separado o css de app.py (styles/main.css).
---
Até aqui:
[v. 0.7.15a, de 08/09/2025]
---

=====Novidades=====
* (x) Remover "View fullscreen" da barra lateral.
* (x) Inserir ícones (ainda não interativos) nos títulos das abas de Lançamentos.
---
Até aqui:
[v. 0.7.16, de 10/09/2025]
---

=====Novidades=====
* ( ) Textos seções:
    - (x) Guia Rápido (topbar);
    - (x) Sobre/Metodologia (sidebar/nav);
    - (x) Sobre/Glossário (sidebar/nav);
    - (x) Sobre/FAQ (sidebar/nav).
* (x) Criar na sidebar/nav a seção/view 'Novo' em substituição à seção/view 'Home'.
---
Até aqui:
[v. 0.7.17, de 10/09/2025]
---

=====Ajustes=====
* (x) Novo só funcionando após clicar em outro link da sidebar.
=====Novidades=====
* (x) Dropdown Menu "Processo", colapsando "Novo", "Lançamentos", "Análise" e "Parecer" (sidebar/nav).
* (x) Botões de redes sociais, configurações e tema claro/escuro (topbar).
---
Até aqui:
[v. 0.7.18, de 12/09/2025]
---

=====Novidades=====
* (x) Texto da seção/view 'Novo' Reformulada (sidebar/nav).
* (x) Criado botão 'iniciar' em 'Novo' (sidebar/nav).
* (x) Removida a aba 'Início', da seção/view 'Lançamentos' (sidebar/nav).
* (x) Renomeadas as seções e os apontamentos (para as views) 'Definir1' e 'Definir2' para 'Estoque' e 'Cadastros', 
respectivamente (topbar).
* (x) Reescrita da seção/view 'Guia Rápido' (topbar).
* (x) Em negrito a renderização das seções Processo, Sobre e Contato (sidebar/nav).
* (x) Fontes e cor das seções da sidebar/nav reformuladas para combinar com a topbar e o logo do FinScore.
---
Até aqui:
[v. 0.7.19, de 13/09/2025]
---

=====Ajustes=====
* (x) Subi a sidebar/nav para ficar mais próxima da topbar.
* (x) Mudança da cor dos botões para #5ea68d.
---
Até aqui:
[v. 0.7.19a, de 13/09/2025]
---

---------------------------------
2.3 Aperfeiçoamentos
---------------------------------

=====Novidades=====
* (x) Seção Lançamentos só fica clicável/destravado após o usuário clicar no botão 'Iniciar' da seção Novo.
* (x) Seções Análise e Parecer só ficam clicáveis/destravadas após o usuário clicar no botão 'Calcular FinScore'
da seção Lançamentos.
---
Até aqui:
[v. 0.7.20, de 13/09/2025]
---

=====Ajustes=====
* (x) Reescrita de Lançamentos/Início.
---
Até aqui:
[v. 0.7.20a, de 13/09/2025]

=====Ajustes=====
* (x) Reescrita de Lançamentos/Início.
---
Até aqui:
[v. 0.7.20b, de 13/09/2025]
---

=====Novidades=====
* (x) Arquivo README.md
* (x) Arquivo LICENSE.md
---
Até aqui:
[v. 0.7.20c, de 13/09/2025]

=====Ajustes=====
* (x) Pasta 'suporte', englobando os arquivos de notas e controle (TO_DO_APP.txt etc).
---
Até aqui:
[v. 0.7.20d, de 13/09/2025]
---

=====Novidades=====
* (x) Reescrita da seção 'Sobre':
    - (x) Metodologia;
    - (x) Glossário;
    - (x) FAQ. 
---
Até aqui:
[v. 0.7.21, de 13/09/2025]
---

---------------------------------
2.4 Aperfeiçoamentos II
---------------------------------

=====Novidades=====
* (x) Links vinculados aos botões de redes sociais:
    - (x) Facebook;
    - (x) Youtube;
    - (x) Linkedin. 
---
Até aqui:
[v. 0.7.22, de 13/09/2025]
---

=====Novidades=====
* (x) Formulário 'Lançamentos/Cliente':
    - (x) Máscara travando campo 'CNPJ' (formato string), permitindo digitar, colar e corrigir colagens com
    caracteres a mais ou a menos, desde que mantenha a quantidade correta de dígitos.
    - (x) Campo 'Ano Inicial' computado ocmo "YYYY".
    - (x) Campo 'Ano Final' computado como "YYYY".
    - (x) Campo 'Ano Final' computado como ('Ano Inicial'+2).
    - (x) Campo 'Serasa Score' computado como "float".
    - (x) Campo 'Data de Consulta ao Serasa' computado como 'DD/MM/YYYY', permitindo digitar, colar e corrigir.
    colagens com caracteres a mais ou a menos, desde que mantenha a quantidade correta de dígitos.
---
Até aqui:
[v. 0.7.23, de 13/09/2025]
[v. 0.7.23a, de 13/09/2025] (roadmap FORMULÁRIO)
[v. 0.7.23b, de 13/09/2025] (config codespaces linux)
---
 
=====Novidades=====
* (x) Seção Sobre/FAQ em formato accordion;
=====Ajustes=====
* (x) Consistência visual temas claro ou escuro dos sistemas operacionais ou navegadores.
---
Até aqui:
[v. 0.7.24, de 14/09/2025]
---

=====Novidades=====
* (x) Seção Sobre/Glossárionavegável em ordem alfabética (A–Z).
---
Até aqui:
[v. 0.7.25, de 14/09/2025]
---

---------------------------------
2.5 Preparação próximas etapas
---------------------------------

=====Ajustes=====
* (x) Consistência visual temas claro ou escuro dos sistemas operacionais ou navegadores com falhas (ainda) em 
Sobre/Metodologia e Sobre/FAQ.
* (x) Removi a opção de download da tabela em Sobre/Metodologia.
* (x) Reorganização e melhoria do texto de Sobre/Metodologia.
* (x) Revisado st.header como padrão para os títulos
---
Até aqui:
[v. 0.7.25a, de 14/09/2025]
---

=====Ajustes=====
* (x) Aviso de versão e preferência por tema claro em Home (após tentar consertar inconsistêncis em lancamentos.py).
---
Até aqui:
[v. 0.7.25b, de 14/09/2025]
---

=====Ajustes=====
* (x) Aumento dos termos do glossário
---
Até aqui:
[v. 0.7.25c, de 14/09/2025]
[v. 0.7.25d, de 14/09/2025] (testes 0.7.26, mas não funcionando as novas funções)
---

 =====Novidades=====
* ( ) Após clicar no botão 'Calcular FinScore', se não prosseguir nas seções 'Análise' e 'Parecer'. ao tentar 
clicar em outra seção (exceto 'Sobre'), um popup avisa que os dados serão perdidos e dá a opção de prosseguir 
com o cálculo ou perdê-los. (DESISTI)
- Desistência, pois os elementos HTML que decoram a navbar impedem o popup de funcionar. A solução seria usar 
objetos Streamlit nativos, mas a estética seria comprometida. Procurar outra solução quando fizer o backend.
---
Até aqui:
[v. 0.7.25e, de 14/09/2025]
---

=====Ajustes=====
* (x) Limpeza do código com as regras de v. 0.7.25e
* (x) Obrigatoriedade de todos os campos de Novo/Cliente estarem preenchidos para que o cálculo de FinScore
prossiga.
* (x) Formatação de fontes em Análise/Resumo.
---
Até aqui:
[v. 0.7.26, de 14/09/2025]
---

=====Ajustes=====
* (x) Sumir com os ícones de link que aparecem quando o ponteiro do mouse repousa sobre certas áreas, como títulos.
- Código testado em todas as seções. Estética e funcionalidades aparentemente funcionando.
- Versão base antes da implementação do LangChain.
---
Até aqui:
[v. 0.7.26a, de 14/09/2025]
---

=====Ajustes=====
* (x) Organização (Roadmap) da parte 3 (PARECER) deste to do.
---
Até aqui:
[v. 0.7.26b, de 14/09/2025]
[v. 0.7.26d, de 16/09/2025]
---

=====Ajustes=====
* (x) Correção de racional em utils_finscore.py - peso maior estava indo para mais antigo.
---
Até aqui:
[v. 0.7.26c, de 15/09/2025]
---
......................................................................................................................

============
3. ANÁLISE
============

---------------------------------
3.1 PRELIMINARES
---------------------------------

=====Novidades=====
* (x) Anos (2021, 2022 e 2023) substituírem ordem cardinal (0, 1 e 2):
    - (x) Planilhas (Excel e Google Sheets);
    - (x) Adaptar anos em Análise/Gráficos e Análise/Tabelas;
* (x) Ordem de apresentação dos anos ajustada nos gráficos.
=====Ajustes=====
* (x) Ordem de apresentação dos anos nas linhas da planilha com dados contábeis (mais antigo na primeira linha).
* (x) Nomenclatura da coluna 'Ano' na planilha alterada de [0, 1, 2] para [1, 2, 3], sendo 1 o mais antigo.
---
Até aqui:
[v. 0.7.27 (dev), de 19/09/2025]
---

=====deploy=====
* (x) Colocar no ar em Streamlit a versão mais recente de dev:
    - (x) Git merge.
---
Até aqui:
[v. 0.7.27a (main), de 20/09/2025]
---

=====Novidades=====
* (x) Novos gráficos:
    - (x) Criar Classificação;
    - (x) Organizar aba conforme Classificação feita.
* (x) Novas tabelas:
    - (x) Criar Classificação.
---
Até aqui:
[v. 0.7.28 (dev), de 20/09/2025]
---

=====Novidades=====
* (x) Novos gráficos
    - (x) Estudar quais;
    - (x) Codificar.
* (x) Novas tabelas
    - (x) Estudar quais;
    - (x) Codificar.
---
Até aqui:
[v. 0.7.29 (dev), de 20/09/2025]
---

=====Ajustes=====
* (x) Formatar gráficos.
* (x) Formatar tabelas.
* (x) Campos 'Data da Análise' e 'Data de Consulta ao Serasa' em /Análise/Resumo.
* (x) Em /Análise, renomeei a aba 'Graficos' para 'Gráficos'.
---
Até aqui:
[v. 0.7.29a (dev), de 20/09/2025]
[v. 0.7.29c (dev), de 20/09/2025] - ajustes pós merge
---

=====deploy=====
* (x) Colocar no ar em Streamlit a versão mais recente de dev
    - (x) Git merge
---
Até aqui:
[v. 0.7.29b (main), de 20/09/2025]
---

---------------------------------
3.2 IA (preparação Parecer)
---------------------------------

=====Ajustes=====
* (x) Configurar Langchain:
    * (x) Importar bibliotecas (definir quais e momento);
    * (x) Credenciais OpenAI.
* (x) Estudar onde o prompt será inserido no projeto.
* (x) Testar prompts aleatórios (resultados finscore, gráficos ou tabelas).
* (x) Definir layout de onde serão inseridos os marcadores/caixinhas que apresentarão.
os resultados dos prompts na seção /Análise.
---
Até aqui:
[v. 0.8.01 (ia), de 23/09/2025]
---

=====Novidades=====
* (x) Dados Análise/Resumo:
    - (x) FinScore Bruto:
        + (x) Número;
        + (x) Classificação:
            . (x) IA/LLM (prompt IA + edição humana + retorno IA final).
    - (x) FinScore Ajustado:
        + (x) Número;
        + (x) Classificação:
            . (x) IA/LLM (prompt IA + edição humana + retorno IA final).
    - (x) Serasa Score:
        + (x) Número;
        + (x) Classificação:
            . (x) IA/LLM (prompt IA + edição humana + retorno IA final).
* (x) Gráficos de Análise/Gráficos:
    - (x) Dados Contábeis brutos:
        + (x) Definir gráficos:
            . (x) IA/LLM (prompt IA + edição humana + retorno IA final).
    - (x) Índices Contábeis:
        + (x) Definir gráficos:.
            . (x) IA/LLM (prompt IA + edição humana + retorno IA final)
* (x) Tabelas de Análise/Tabelas:
    - (x) Dados Contábeis brutos:
        + (x) Definir tabelas:
            . (x) IA/LLM (prompt IA + edição humana + retorno IA final).
    - (x) Índices Contábeis:
        + (x) Definir tabelas:
            . (x) IA/LLM (prompt IA + edição humana + retorno IA final).
    - (x) Componentes Principais (PCA):
        + (x) IA/LLM (prompt IA, sem interação humana).
    - (x) Top 3 Índices por Componente:
        + (x) IA/LLM (prompt IA, sem interação humana).
---
Até aqui:
[v. 0.8.02 (ia), de 23/09/2025]
---

=====Novidades=====
* ( ) Salvar cache dados exceto se clicar em /Novo.
=====Ajustes=====
* (x) Testes [v. 0.8.01 (ia)].
* (x) Testes [v. 0.8.02 (ia)].
---
Até aqui:
[v. 0.8.03 (ia), de 24/09/2025]
[v. 0.8.03a (ia), de 24/09/2025]
[v. 0.8.03b (ia), de 24/09/2025]
[v. 0.8.03c (ia), de 27/09/2025] --> cache em nav e topbar funcionando
[v. 0.8.04 (ia), de 27/09/2025] --> cache em nav e topbar funcionando, visual e formato dos nrs ok.
---

=====Ajustes=====
* (x) Diminuição da largura da sidebar, ajustes em cores e nova logo
---
Até aqui:
[v. 0.8.05 (ia), de 27/09/2025]
---

=====Novidades=====
* ( ) LLM /Análise
    * (x) Reconfiguração de 'Gerar crítica da IA' para 'Insight', em popover
    * ( ) Processamento IA em segundo plano não termina
    * ( ) Resultados botão análise IA
    * ( ) Processamento IA em segundo plano
    * ( ) Setas cima, baixo, direita-esquerda
* ( ) Aba Resumo
---
Até aqui:
[v. 0.8.06 (ia), de 28/09/2025]
[v. 0.8.06a (ia), de 28/09/2025] - 'Processando' em análise sem funcionar
Desistência da ideia de processamento em segundo plano. O Streamlit não permite.
---

......................................................................................................................
============
4. PARECER
============
=====Ajustes=====
* (x) Readequação do prompt para o LLM com a exclusão das análises parciais e /Análise
=====Novidades=====
* (x) Versão alpha do parecer implementada
---
Até aqui:
[v. 0.8.07 (ia), de 03/10/2025]
---

=====Ajustes=====
* (x) Correção de ortografia
---
Até aqui:
[v. 0.8.08 (ia), de 03/10/2025]
---

=====Ajustes=====
* (x) Geração do parecer - versão alpha2
    - (x) Readequação do prompt para o LLM
    - (x) Thresholds de FinScore Bruto e FinScore Ajustado
    - (x) Thresholds de Serasa Score como "aprovação com ressalvas" no caso de aprovação do FinScore
    - (x) Índices e contas contábeis como critérios suplementares
* (x) Correções de ortografia
---
Até aqui:
[v. 0.8.09 (ia), de 03/10/2025]
---

=====Ajustes=====
* (x) Geração do parecer - versão alpha3
---
Até aqui:
[v. 0.8.10 (ia), de 04/10/2025]
---

=====Ajustes=====
* (x) Geração do parecer - versão alpha4 (mix alpha1 e alpha3)
---
Até aqui:
[v. 0.8.11 (ia), de 04/10/2025]
---

=====Ajustes=====
* (x) Geração do parecer - versão alpha5 (estrutura mais organizada)
---
Até aqui:
[v. 0.8.12 (ia), de 04/10/2025]
---

=====Ajustes=====
* (x) Página parecer - Campos decisão reconfigurados e botão gerar parecer centralizado
* (x) Reestruturação da seção "1. Introdução" do parecer:
    - (x) Mantido parágrafo atual como primeiro
    - (x) Adicionado segundo parágrafo com síntese executiva (antigo "Resumo Executivo")
    - (x) Adicionado terceiro parágrafo descrevendo estrutura do parecer
    - (x) Removida seção "2. Resumo Executivo"
    - (x) Renumeradas as seções subsequentes (2. Metodologia, 3. Análise Detalhada, 4. Risco e Scoring, 5. Considerações Finais)
* (x) Aperfeiçoamento da seção "2. Metodologia" do parecer:
    - (x) Contextualização com conceitos da seção /Sobre (Metodologia)
    - (x) Detalhamento das 5 etapas do FinScore
    - (x) Explicação aprofundada do Serasa Score
    - (x) Adição de coluna "Interpretação" na tabela FinScore
    - (x) Adição de coluna "Significado" na tabela Serasa
    - (x) Novo subtópico "2.3 Dados Contábeis e Índices Financeiros"
    - (x) Novo subtópico "2.4 Critérios de Decisão" (expandido e contextualizado)
* (x) Removido botão "🔄 Regenerar" do parecer
* (x) Correção seção "3.4 Eficiência Operacional" do parecer:
    - (x) Atualizado para refletir que PMR, PMP e Giro do Ativo estão disponíveis
    - (x) Adicionada interpretação sobre gestão do ciclo financeiro
    - (x) Incluídas orientações sobre como interpretar cada indicador
* (x) BUGFIX: Correção de nomes de colunas na extração de dados de eficiência:
    - (x) "PMR (dias)" → "Período Médio de Recebimento"
    - (x) "PMP (dias)" → "Período Médio de Pagamento"
    - (x) "Giro do Ativo (x)" → "Giro do Ativo"
    - Causa: Mismatch entre nomes no DataFrame (utils_finscore.py) e busca no parecer
---
Até aqui:
[v. 0.8.13 (ia), de 05/10/2025]
---

=====Ajustes=====
* (x) Reestruturação da seção "4. Análise de Risco e Scoring" do parecer:
    - (x) Renomeada para "4. Resultados"
    - (x) Adicionado parágrafo introdutório contextualizando a seção
    - (x) Subseção "4.1 FinScore" expandida com contextualização detalhada:
        + Validação cruzada com índices de Liquidez
        + Validação cruzada com índices de Rentabilidade
        + Validação cruzada com índices de Endividamento
        + Validação cruzada com índices de Eficiência Operacional
    - (x) Subseção "4.2 Serasa" expandida com contextualização detalhada:
        + Análise de convergência/divergência com FinScore
        + Relação com capacidade de pagamento e liquidez
        + Relação com endividamento e histórico de crédito
        + Análise de rentabilidade vs. histórico de inadimplência
    - (x) Subseção "4.3 Síntese de Risco" renomeada para "4.3 Riscos da Operação":
        + Análise de riscos estruturais (valores absolutos + tendências temporais)
        + Sugestões de covenants específicos baseados em vulnerabilidades identificadas
        + Lista de indicadores críticos para monitoramento contínuo
        + Síntese sobre necessidade de cláusulas restritivas
---
Até aqui:
[v. 0.8.14 (ia), de 05/10/2025]
---

=====Ajustes=====
* (x) Simplificação e otimização das instruções da seção "4. Resultados" do parecer:
    - (x) Redução do nível de prescrição do prompt para dar mais liberdade à IA
    - (x) Instruções mais concisas e diretas
    - (x) Mantida a estrutura: parágrafo introdutório + 4.1 FinScore + 4.2 Serasa + 4.3 Riscos da Operação
    - (x) Mantidos os requisitos de validação cruzada com dados contábeis e índices
    - (x) Mantida análise temporal (valores + tendências) em 4.3
---
Até aqui:
[v. 0.8.14a (ia), de 05/10/2025]
---

=====Aperfeiçoamentos=====
* (x) Reescrita completa das seções "2. Metodologia" e "3. Análise Detalhada dos Indicadores" do parecer:
    - (x) Seção 2. Metodologia expandida com contexto narrativo e acessibilidade:
        + Parágrafo introdutório explicando integração entre FinScore e Serasa
        + 2.1 FinScore: explicação detalhada das 5 etapas com linguagem acessível
        + Adicionados "Por que" e "Como" em cada etapa
        + Incluídos exemplos práticos de interpretação de valores
        + Remoção de tabela duplicada do Serasa
        + 2.2 Serasa: contextualização "o que a empresa é" vs "como se comporta"
        + Exemplos práticos de convergência/divergência entre escores
        + 2.3 Dados Contábeis: reescrita com foco em "por que detalhar os índices"
        + 4 razões objetivas: identificar drivers, detectar vulnerabilidades, definir covenants, compreender tendências
        + 2.4 Critérios de Decisão: reescrita sem pesos fictícios, focando na convergência de evidências
        + Explicação de cada critério (FinScore primário, Serasa validação, Índices complementares, Contexto qualitativo)
        + Cenários de convergência/divergência entre FinScore e Serasa com exemplos práticos
        + Síntese da lógica decisória com fundamentação técnica rastreável
    - (x) Seção 3. Análise Detalhada dos Indicadores completamente reescrita:
        + Parágrafo introdutório contextualizando as 5 dimensões de análise
        + 3.1 Liquidez: contextualização "o que significa na prática"
        + Explicação detalhada de cada indicador com interpretação aplicada
        + Exemplos concretos: "R$ 2,50 para cada R$ 1,00 de dívida"
        + Orientação para interpretar deterioração temporal
        + 3.2 Endividamento: contextualização sobre financiamento próprio vs terceiros
        + Explicação de cada indicador com consequências reais
        + Exemplo: "mais de 4 anos de caixa operacional para quitar dívidas"
        + Análise de evolução temporal (expansão planejada vs deterioração)
        + 3.3 Rentabilidade: contextualização sobre sustentabilidade de longo prazo
        + Explicação de cada indicador traduzida em termos concretos
        + Exemplo: "R$ 3,00 de cada R$ 100,00 chegam ao bolso dos sócios"
        + Identificação de tendências (eficiência vs competitividade)
        + 3.4 Eficiência Operacional: contextualização sobre ciclo de caixa
        + Explicação integrada de PMR, PMP e Giro do Ativo
        + Exemplo: "folga de 15 dias no ciclo financeiro reduz necessidade de capital de giro"
        + Análise de cenários (PMR < PMP vs PMR > PMP)
        + 3.5 Dados Patrimoniais: contextualização de porte em valores absolutos
        + Orientação para interpretar tabela com exemplos narrativos
        + Análise de trajetória e possíveis causas (expansão, crise, inadimplência)
    - (x) Eliminação de instruções excessivamente prescritivas (bullets sem contexto)
    - (x) Adição de parágrafos introdutórios e explicativos em todas as subseções
    - (x) Tradução de termos técnicos para linguagem acessível a não-especialistas
    - (x) Ênfase em "implicações práticas" e "o que isso significa na prática"
---
Até aqui:
[v. 0.8.15 (ia), de 05/10/2025]
---

=====Ajustes=====
* (x) Melhorias incrementais no parecer e header:
    - (x) Correção da exibição de "aprovar_com_ressalvas" para "Aprovar com Ressalvas" no header
    - (x) Substituição de "Covenants Sugeridos" por "Salvaguardas a serem sopesadas" no header
    - (x) Aprimoramento dos bullets de "Motivos:" com formato estruturado:
        + Bullet 1 (FinScore): Nome do índice, classificação em texto, valor em parênteses, interpretação
        + Bullet 2 (Serasa): Nome do índice, classificação em texto, valor em parênteses, interpretação
        + Bullet 3 (Indicadores): Crítica baseada nos indicadores da seção 3 (Liquidez, Rentabilidade, Endividamento)
    - (x) Lógica de crítica diferenciada por decisão:
        + Aprovar: enfatiza pontos positivos dos indicadores
        + Aprovar com ressalvas: equilibra pontos bons e ruins
        + Não aprovar: enfatiza pontos negativos
    - (x) Expansão do PolicyInputs para incluir dados adicionais:
        + serasa_score, classificacao_finscore, classificacao_serasa
        + liquidez_corrente, liquidez_seca, roe, margem_liquida, margem_ebitda, endividamento
    - (x) Nova função _gerar_critica_indicadores() para análise automática de indicadores
---
Até aqui:
[v. 0.8.16 (ia), de 05/10/2025]
---

=====Novidades=====
* (x) Adequação do header de /Parecer
---
Até aqui:
[v. 0.8.17 (ia), de 05/10/2025] - versão pre-release-alpha
---

=====Ajustes=====
* (x) Botões pós-parecer:
    - (x) Remover botões copiar e enviar por email
---
Até aqui:
[v. 0.8.18 (ia), de 06/10/2025]
[v. 0.8.18a (ia), de 06/10/2025] - confirmações de funcionamento
---

=====Novidades=====
* (x) Botões pós-parecer:
    - (x) Baixar Parecer (PDF) (xhtml2pdf)
---
Até aqui:
[v. 0.8.19 (ia), de 06/10/2025]
---

=====Novidades=====
* (x) Botões pós-parecer:
    - (x) Seletor automatico, conforme o SO, de playright e xhtml2pdf
---
Até aqui:
[v. 0.8.20 (ia), de 06/10/2025]
[v. 0.8.20a (dev), de 06/10/2025] - tranferi (ia) para (dev) (testado e funcionando)
[v. 0.8.20b (main), de 06/10/2025] - tranferi (dev) para (main)
---

=====Ajustes=====
* (x) Reordenamento das abas em /Análise
* (x) Importação de dados Excel e Google Sheets corrigir formatos (sempre float) e valores faltantes (como 0)
=====Novidades=====
* (x) Aba 'Dados Contábeis' em /Análise
---
Até aqui:
[v. 0.8.21 (ia), de 07/10/2025]
---

=====Ajustes=====
* (x) Formatação títulos abas em /Análise (ícones + texto)
---
Até aqui:
[v. 0.8.22 (ia), de 07/10/2025]
[v. 0.8.22 (dev), de 07/10/2025]
---

=====Ajustes=====
* (x) Conteúdo do Parecer readquado (seção Metodologia mais sintética)
---
Até aqui:
[v. 0.8.23 (ia), de 08/10/2025]
---

=====Ajustes=====
* (x) Botão 'Aprovar' em /Lançamentos/Scores
* (x) Sequências da sidebar revisados e funcionando
---
Até aqui:
[v. 0.8.24, de 09/10/2025]
---

=====Ajustes=====
* ( ) Progress bar em mais etapas e melhorias visuais
=====Novidades=====
* ( ) Mais texto na seção 4 do parecer (Resultados)
* ( ) Gráfico na seção 4 do parecer (Resultados)
* ( ) Botões pós-parecer:
    - ( ) Baixar Parecer (PDF) (playright)
---
Até aqui:
[v. 0.8.xx (ia), de xx/10/2025]
---

=====Novidades=====
* ( ) Transpor os resultados da seção /Parecer para a aba 'Resultado' em /Análise
* ( ) Gerar o resultado a partir de /Análise/Resultado
* ( ) Gerar parecer ser computado em segundo plano a partir do momento que se clica em 
'Calcular FinScore' em /Lançamentos
---
Até aqui:
[v. 0.8.xx (ia), de xx/10/2025]
---

......................................................................................................................
============
5. LOGIN
============
* ( ) Estudar bibliotecas
* ( ) Codificar

......................................................................................................................
============
Ideias
============
- Campos 'Dados do Cliente' com crítica de valores
- No dropdown da sidebar, inserir o menu/view 'Consultar', mas só depois de criar o backend com do banco de dados
- Para burlar o desbloqueio dos campos em Processo, basta saber os links dos submenus. Mascarar barra de endereços ou
alguma outra solução para dar mais segurança.

MELHORIAS PONTUAIS
- Criar conteúdo da seção Contato (ex.: https://macmagazine.com.br/contato/). Definir com Assertif para onde 
isso apontará, se for necessária mesmo.
- Clique de 'voltar ao topo' em Sobre/Glossário mostrar a topbar.
- Forçar tema claro na versão 1.x.yy (Beta)

BACKEND
- API REST para integração externa
- Dashboard administrativo
- Relatórios em PDF
- Integração com mais fontes de dados
- Machine Learning para previsões
- Sistema de usuários e permissões
......................................................................................................................

