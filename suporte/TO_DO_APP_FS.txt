
(!!!) CODIFICAR NA BRANCH 'dev' (!!!)

******************************************************
******************** APP FINSCORE ********************
******************************************************

* Feito por F.V.
* Cliente: Assertif
* In√≠cio: 24/07/2025

//////////////////////////////////////////////
Controle de Vers√µes
//////////////////////////////////////////////
** Alpha    :  0.x.yy
** Beta     :  1.x.yy
** Est√°veis :  2+.x.yy (+codinome: pers. lit.)
* x         : Mudan√ßas significativas
* y         : Pequenos ajustes  
* Letras    : Altera√ß√µes e ajustes incrementais, junto a yy (a, b, ..., z)
......................................................................................................................

====================================
Links e dicas
====================================
Logo                    : https://turbologo.com/
Emojis                  : https://emojipedia.org/
Cores hex               : https://www.color-hex.com/
Streamlit               : https://docs.streamlit.io/ (documenta√ß√£o)
                          https://share.streamlit.io/ (publish)
Streamlit-option-menu   : https://github.com/victoryhb/streamlit-option-menu
Streamlit deploy: https ://finscore-alpha.streamlit.app/?p=lanc
OpenAI API Keys         : https://platform.openai.com/api-keys
OpenAI Usage            : https://platform.openai.com/usage
Boostrap                : https://getbootstrap.com/docs/5.3/components
......................................................................................................................

====================================
0. SETAR O PROJETO
====================================

=====Novidades=====
* (x) Mockup Projeto.
* (x) Organizar Github e VS Code.
* (x) Instalar pacotes python.
* (x) Vers√£o alpha 0.1:
    - (x) Menus;
    - (x) Gr√°ficos e tabelas;
    - (x) Apresenta√ß√£o Andr√©.
---
At√© aqui:
[v. 0.1, de 19/08/2025]
---

// Entre o dia 20/08 e 01/09/2025 fiquei tentando codificar o promtp do LangChain para padronizar as sa√≠das do 
Parecer com base nos resultados da IA, utilizando o arquivo ipynb. Decidi voltar para a constru√ß√£o do app e deixar 
isso para o final. 

====================================
1. CONFIGURA√á√ÉO DE VISUAL
====================================

=====Novidades=====
* (x) Cores.
* (x) Integra√ß√£o dos menus com logos e posicionamento.
* (x) Bot√µes.
* (x) Comportamento do APP.
---
At√© aqui:
[v. 0.2, de 02/09/2025]
---

=====Novidades=====
* (x) Logo Assertif em todas as se√ß√µes/views.
---
At√© aqui:
[v. 0.3, de 02/09/2025]
---

=====Novidades=====
* (x) Planilha Excel (local) e Google Docs (web) funcionando.
---
At√© aqui:
[v. 0.4, de 02/09/2025]
---

=====Novidades=====
* (x) Ap√≥s "processamento conclu√≠do" automaticamente vai para a se√ß√£o "Resumo".
---
At√© aqui:
[v. 0.5, de 02/09/2025]
---

=====Novidades=====
* (x) Substitui√ß√£o de radio por abas na view/se√ß√£o 'Novo'.
* (x) Se√ß√µes Andr√©.
    - (x) Readequa√ß√£o da v. 0.5 (views/se√ß√µes diferentes).
    - (x) Resultados (Abas: Resumo, Tabelas e Gr√°ficos da v. 0.1):
        - (x) Dividido em abas (Resumo, Tabelas e Gr√°ficos);
        - (x) Resumo;
        - (x) Tabelas;
        - (x) Gr√°ficos.

    - (x) Parecer (LangChain/OpenAI).

    - (x) sobre:
        - (x) Dividido em abas (Abas: Metodologia, Gloss√°rio e FAQ);
        - (x) Gloss√°rio;
        - (x) FAQ;
        - (x) Contato.

* (x) Consist√™ncia visual (cores e √≠cones).
---
At√© aqui:
[v. 0.6, de 02/09/2025]
---

=====Novidades=====
* (x) Formata√ß√£o e alinhamento de textos nas views/abas.
---
At√© aqui:
[v. 0.6.01, de 05/09/2025]
---

===============================================
2. ORGANIZA√á√ÉO E FUNCIONALIDADES
===============================================

---------------------------------
2.1 Estrutura da p√°gina
---------------------------------

=====Novidades=====
* (x) Se√ß√£o Metodologia iniciada.
---
At√© aqui:
[v. 0.7, de 06/09/2025]
---

=====Novidades=====
* (x) Criar topbar na parte superior (in√≠cio, novo, relat√≥rios, usu√°rios etc).
---
At√© aqui:
[v. 0.7.10, de 06/09/2025]
---

=====Novidades=====
* (x) Encerrada a formata√ß√£o da vers√£o est√°tica da topbar.
* (x) Centraliza√ß√£o das abas e formata√ß√£o de textos nas se√ß√µes/views.
* (x) Renomear as views: 'Novo' para 'Lan√ßamentos', e 'Resultados' para 'An√°lise'.
---
At√© aqui:
[v. 0.7.11, de 06/09/2025]
---

=====Novidades=====
* (x) Guia r√°pido e Lan√ßamentos/In√≠cio (ideia inicial).
---
At√© aqui:
[v. 0.7.12, de 07/09/2025]
---

=====Novidades=====
* ( ) Topbar interativa:
    - (x) Cria√ß√£o da p√°gina Guia R√°pido;
    - (x) Cria√ß√£o da p√°gina In√≠cio;
    - (x) Ajuste para igualar largura com as margens dos textos.
---
At√© aqui:
[v. 0.7.13, de 07/09/2025]
---

=====Ajustes=====
* (x) Troquei 'In√≠cio' por 'P√°gina Principal' em topbar (evitar confus√£o com lancamentos.py).
* (x) Ajuste da largura da topbar para se alinhar ao texto.
* (x) Diversos (8 horas nisso!!) conflitos entra sidebar e topbar.
=====Novidades=====
* (x) Remover op√ß√£o de fechar barra lateral [v. 0.7.13a, de 07/09/2025].
---
At√© aqui:
[v. 0.7.14, de 08/09/2025]
---

---------------------------------
2.2 Funcionalidades
---------------------------------

=====Ajustes=====
* (x) Resolvendo de vez conflitos entre topbar e sidebar:
    - (x) state_manager.py, config.py;
    - (x) Atualiza√ß√£o app.py, nav.py e topbar.py;
    - (x) Testes.
---
At√© aqui:
[v. 0.7.15, de 08/09/2025]
---

=====Ajustes=====
* (x) Clicar em 'Sobre' ap√≥s calcular o FinScore precisa de clique duplo.
* ( ) Diminuir 1cm de cada lado as margens dos textos [N√£o funcionou - decidi manter como est√°].
* (x) Separado o css de app.py (styles/main.css).
---
At√© aqui:
[v. 0.7.15a, de 08/09/2025]
---

=====Novidades=====
* (x) Remover "View fullscreen" da barra lateral.
* (x) Inserir √≠cones (ainda n√£o interativos) nos t√≠tulos das abas de Lan√ßamentos.
---
At√© aqui:
[v. 0.7.16, de 10/09/2025]
---

=====Novidades=====
* ( ) Textos se√ß√µes:
    - (x) Guia R√°pido (topbar);
    - (x) Sobre/Metodologia (sidebar/nav);
    - (x) Sobre/Gloss√°rio (sidebar/nav);
    - (x) Sobre/FAQ (sidebar/nav).
* (x) Criar na sidebar/nav a se√ß√£o/view 'Novo' em substitui√ß√£o √† se√ß√£o/view 'Home'.
---
At√© aqui:
[v. 0.7.17, de 10/09/2025]
---

=====Ajustes=====
* (x) Novo s√≥ funcionando ap√≥s clicar em outro link da sidebar.
=====Novidades=====
* (x) Dropdown Menu "Processo", colapsando "Novo", "Lan√ßamentos", "An√°lise" e "Parecer" (sidebar/nav).
* (x) Bot√µes de redes sociais, configura√ß√µes e tema claro/escuro (topbar).
---
At√© aqui:
[v. 0.7.18, de 12/09/2025]
---

=====Novidades=====
* (x) Texto da se√ß√£o/view 'Novo' Reformulada (sidebar/nav).
* (x) Criado bot√£o 'iniciar' em 'Novo' (sidebar/nav).
* (x) Removida a aba 'In√≠cio', da se√ß√£o/view 'Lan√ßamentos' (sidebar/nav).
* (x) Renomeadas as se√ß√µes e os apontamentos (para as views) 'Definir1' e 'Definir2' para 'Estoque' e 'Cadastros', 
respectivamente (topbar).
* (x) Reescrita da se√ß√£o/view 'Guia R√°pido' (topbar).
* (x) Em negrito a renderiza√ß√£o das se√ß√µes Processo, Sobre e Contato (sidebar/nav).
* (x) Fontes e cor das se√ß√µes da sidebar/nav reformuladas para combinar com a topbar e o logo do FinScore.
---
At√© aqui:
[v. 0.7.19, de 13/09/2025]
---

=====Ajustes=====
* (x) Subi a sidebar/nav para ficar mais pr√≥xima da topbar.
* (x) Mudan√ßa da cor dos bot√µes para #5ea68d.
---
At√© aqui:
[v. 0.7.19a, de 13/09/2025]
---

---------------------------------
2.3 Aperfei√ßoamentos
---------------------------------

=====Novidades=====
* (x) Se√ß√£o Lan√ßamentos s√≥ fica clic√°vel/destravado ap√≥s o usu√°rio clicar no bot√£o 'Iniciar' da se√ß√£o Novo.
* (x) Se√ß√µes An√°lise e Parecer s√≥ ficam clic√°veis/destravadas ap√≥s o usu√°rio clicar no bot√£o 'Calcular FinScore'
da se√ß√£o Lan√ßamentos.
---
At√© aqui:
[v. 0.7.20, de 13/09/2025]
---

=====Ajustes=====
* (x) Reescrita de Lan√ßamentos/In√≠cio.
---
At√© aqui:
[v. 0.7.20a, de 13/09/2025]

=====Ajustes=====
* (x) Reescrita de Lan√ßamentos/In√≠cio.
---
At√© aqui:
[v. 0.7.20b, de 13/09/2025]
---

=====Novidades=====
* (x) Arquivo README.md
* (x) Arquivo LICENSE.md
---
At√© aqui:
[v. 0.7.20c, de 13/09/2025]

=====Ajustes=====
* (x) Pasta 'suporte', englobando os arquivos de notas e controle (TO_DO_APP.txt etc).
---
At√© aqui:
[v. 0.7.20d, de 13/09/2025]
---

=====Novidades=====
* (x) Reescrita da se√ß√£o 'Sobre':
    - (x) Metodologia;
    - (x) Gloss√°rio;
    - (x) FAQ. 
---
At√© aqui:
[v. 0.7.21, de 13/09/2025]
---

---------------------------------
2.4 Aperfei√ßoamentos II
---------------------------------

=====Novidades=====
* (x) Links vinculados aos bot√µes de redes sociais:
    - (x) Facebook;
    - (x) Youtube;
    - (x) Linkedin. 
---
At√© aqui:
[v. 0.7.22, de 13/09/2025]
---

=====Novidades=====
* (x) Formul√°rio 'Lan√ßamentos/Cliente':
    - (x) M√°scara travando campo 'CNPJ' (formato string), permitindo digitar, colar e corrigir colagens com
    caracteres a mais ou a menos, desde que mantenha a quantidade correta de d√≠gitos.
    - (x) Campo 'Ano Inicial' computado ocmo "YYYY".
    - (x) Campo 'Ano Final' computado como "YYYY".
    - (x) Campo 'Ano Final' computado como ('Ano Inicial'+2).
    - (x) Campo 'Serasa Score' computado como "float".
    - (x) Campo 'Data de Consulta ao Serasa' computado como 'DD/MM/YYYY', permitindo digitar, colar e corrigir.
    colagens com caracteres a mais ou a menos, desde que mantenha a quantidade correta de d√≠gitos.
---
At√© aqui:
[v. 0.7.23, de 13/09/2025]
[v. 0.7.23a, de 13/09/2025] (roadmap FORMUL√ÅRIO)
[v. 0.7.23b, de 13/09/2025] (config codespaces linux)
---
 
=====Novidades=====
* (x) Se√ß√£o Sobre/FAQ em formato accordion;
=====Ajustes=====
* (x) Consist√™ncia visual temas claro ou escuro dos sistemas operacionais ou navegadores.
---
At√© aqui:
[v. 0.7.24, de 14/09/2025]
---

=====Novidades=====
* (x) Se√ß√£o Sobre/Gloss√°rionaveg√°vel em ordem alfab√©tica (A‚ÄìZ).
---
At√© aqui:
[v. 0.7.25, de 14/09/2025]
---

---------------------------------
2.5 Prepara√ß√£o pr√≥ximas etapas
---------------------------------

=====Ajustes=====
* (x) Consist√™ncia visual temas claro ou escuro dos sistemas operacionais ou navegadores com falhas (ainda) em 
Sobre/Metodologia e Sobre/FAQ.
* (x) Removi a op√ß√£o de download da tabela em Sobre/Metodologia.
* (x) Reorganiza√ß√£o e melhoria do texto de Sobre/Metodologia.
* (x) Revisado st.header como padr√£o para os t√≠tulos
---
At√© aqui:
[v. 0.7.25a, de 14/09/2025]
---

=====Ajustes=====
* (x) Aviso de vers√£o e prefer√™ncia por tema claro em Home (ap√≥s tentar consertar inconsist√™ncis em lancamentos.py).
---
At√© aqui:
[v. 0.7.25b, de 14/09/2025]
---

=====Ajustes=====
* (x) Aumento dos termos do gloss√°rio
---
At√© aqui:
[v. 0.7.25c, de 14/09/2025]
[v. 0.7.25d, de 14/09/2025] (testes 0.7.26, mas n√£o funcionando as novas fun√ß√µes)
---

 =====Novidades=====
* ( ) Ap√≥s clicar no bot√£o 'Calcular FinScore', se n√£o prosseguir nas se√ß√µes 'An√°lise' e 'Parecer'. ao tentar 
clicar em outra se√ß√£o (exceto 'Sobre'), um popup avisa que os dados ser√£o perdidos e d√° a op√ß√£o de prosseguir 
com o c√°lculo ou perd√™-los. (DESISTI)
- Desist√™ncia, pois os elementos HTML que decoram a navbar impedem o popup de funcionar. A solu√ß√£o seria usar 
objetos Streamlit nativos, mas a est√©tica seria comprometida. Procurar outra solu√ß√£o quando fizer o backend.
---
At√© aqui:
[v. 0.7.25e, de 14/09/2025]
---

=====Ajustes=====
* (x) Limpeza do c√≥digo com as regras de v. 0.7.25e
* (x) Obrigatoriedade de todos os campos de Novo/Cliente estarem preenchidos para que o c√°lculo de FinScore
prossiga.
* (x) Formata√ß√£o de fontes em An√°lise/Resumo.
---
At√© aqui:
[v. 0.7.26, de 14/09/2025]
---

=====Ajustes=====
* (x) Sumir com os √≠cones de link que aparecem quando o ponteiro do mouse repousa sobre certas √°reas, como t√≠tulos.
- C√≥digo testado em todas as se√ß√µes. Est√©tica e funcionalidades aparentemente funcionando.
- Vers√£o base antes da implementa√ß√£o do LangChain.
---
At√© aqui:
[v. 0.7.26a, de 14/09/2025]
---

=====Ajustes=====
* (x) Organiza√ß√£o (Roadmap) da parte 3 (PARECER) deste to do.
---
At√© aqui:
[v. 0.7.26b, de 14/09/2025]
[v. 0.7.26d, de 16/09/2025]
---

=====Ajustes=====
* (x) Corre√ß√£o de racional em utils_finscore.py - peso maior estava indo para mais antigo.
---
At√© aqui:
[v. 0.7.26c, de 15/09/2025]
---
......................................................................................................................

============
3. AN√ÅLISE
============

---------------------------------
3.1 PRELIMINARES
---------------------------------

=====Novidades=====
* (x) Anos (2021, 2022 e 2023) substitu√≠rem ordem cardinal (0, 1 e 2):
    - (x) Planilhas (Excel e Google Sheets);
    - (x) Adaptar anos em An√°lise/Gr√°ficos e An√°lise/Tabelas;
* (x) Ordem de apresenta√ß√£o dos anos ajustada nos gr√°ficos.
=====Ajustes=====
* (x) Ordem de apresenta√ß√£o dos anos nas linhas da planilha com dados cont√°beis (mais antigo na primeira linha).
* (x) Nomenclatura da coluna 'Ano' na planilha alterada de [0, 1, 2] para [1, 2, 3], sendo 1 o mais antigo.
---
At√© aqui:
[v. 0.7.27 (dev), de 19/09/2025]
---

=====deploy=====
* (x) Colocar no ar em Streamlit a vers√£o mais recente de dev:
    - (x) Git merge.
---
At√© aqui:
[v. 0.7.27a (main), de 20/09/2025]
---

=====Novidades=====
* (x) Novos gr√°ficos:
    - (x) Criar Classifica√ß√£o;
    - (x) Organizar aba conforme Classifica√ß√£o feita.
* (x) Novas tabelas:
    - (x) Criar Classifica√ß√£o.
---
At√© aqui:
[v. 0.7.28 (dev), de 20/09/2025]
---

=====Novidades=====
* (x) Novos gr√°ficos
    - (x) Estudar quais;
    - (x) Codificar.
* (x) Novas tabelas
    - (x) Estudar quais;
    - (x) Codificar.
---
At√© aqui:
[v. 0.7.29 (dev), de 20/09/2025]
---

=====Ajustes=====
* (x) Formatar gr√°ficos.
* (x) Formatar tabelas.
* (x) Campos 'Data da An√°lise' e 'Data de Consulta ao Serasa' em /An√°lise/Resumo.
* (x) Em /An√°lise, renomeei a aba 'Graficos' para 'Gr√°ficos'.
---
At√© aqui:
[v. 0.7.29a (dev), de 20/09/2025]
[v. 0.7.29c (dev), de 20/09/2025] - ajustes p√≥s merge
---

=====deploy=====
* (x) Colocar no ar em Streamlit a vers√£o mais recente de dev
    - (x) Git merge
---
At√© aqui:
[v. 0.7.29b (main), de 20/09/2025]
---

---------------------------------
3.2 IA (prepara√ß√£o Parecer)
---------------------------------

=====Ajustes=====
* (x) Configurar Langchain:
    * (x) Importar bibliotecas (definir quais e momento);
    * (x) Credenciais OpenAI.
* (x) Estudar onde o prompt ser√° inserido no projeto.
* (x) Testar prompts aleat√≥rios (resultados finscore, gr√°ficos ou tabelas).
* (x) Definir layout de onde ser√£o inseridos os marcadores/caixinhas que apresentar√£o.
os resultados dos prompts na se√ß√£o /An√°lise.
---
At√© aqui:
[v. 0.8.01 (ia), de 23/09/2025]
---

=====Novidades=====
* (x) Dados An√°lise/Resumo:
    - (x) FinScore Bruto:
        + (x) N√∫mero;
        + (x) Classifica√ß√£o:
            . (x) IA/LLM (prompt IA + edi√ß√£o humana + retorno IA final).
    - (x) FinScore Ajustado:
        + (x) N√∫mero;
        + (x) Classifica√ß√£o:
            . (x) IA/LLM (prompt IA + edi√ß√£o humana + retorno IA final).
    - (x) Serasa Score:
        + (x) N√∫mero;
        + (x) Classifica√ß√£o:
            . (x) IA/LLM (prompt IA + edi√ß√£o humana + retorno IA final).
* (x) Gr√°ficos de An√°lise/Gr√°ficos:
    - (x) Dados Cont√°beis brutos:
        + (x) Definir gr√°ficos:
            . (x) IA/LLM (prompt IA + edi√ß√£o humana + retorno IA final).
    - (x) √çndices Cont√°beis:
        + (x) Definir gr√°ficos:.
            . (x) IA/LLM (prompt IA + edi√ß√£o humana + retorno IA final)
* (x) Tabelas de An√°lise/Tabelas:
    - (x) Dados Cont√°beis brutos:
        + (x) Definir tabelas:
            . (x) IA/LLM (prompt IA + edi√ß√£o humana + retorno IA final).
    - (x) √çndices Cont√°beis:
        + (x) Definir tabelas:
            . (x) IA/LLM (prompt IA + edi√ß√£o humana + retorno IA final).
    - (x) Componentes Principais (PCA):
        + (x) IA/LLM (prompt IA, sem intera√ß√£o humana).
    - (x) Top 3 √çndices por Componente:
        + (x) IA/LLM (prompt IA, sem intera√ß√£o humana).
---
At√© aqui:
[v. 0.8.02 (ia), de 23/09/2025]
---

=====Novidades=====
* ( ) Salvar cache dados exceto se clicar em /Novo.
=====Ajustes=====
* (x) Testes [v. 0.8.01 (ia)].
* (x) Testes [v. 0.8.02 (ia)].
---
At√© aqui:
[v. 0.8.03 (ia), de 24/09/2025]
[v. 0.8.03a (ia), de 24/09/2025]
[v. 0.8.03b (ia), de 24/09/2025]
[v. 0.8.03c (ia), de 27/09/2025] --> cache em nav e topbar funcionando
[v. 0.8.04 (ia), de 27/09/2025] --> cache em nav e topbar funcionando, visual e formato dos nrs ok.
---

=====Ajustes=====
* (x) Diminui√ß√£o da largura da sidebar, ajustes em cores e nova logo
---
At√© aqui:
[v. 0.8.05 (ia), de 27/09/2025]
---

=====Novidades=====
* ( ) LLM /An√°lise
    * (x) Reconfigura√ß√£o de 'Gerar cr√≠tica da IA' para 'Insight', em popover
    * ( ) Processamento IA em segundo plano n√£o termina
    * ( ) Resultados bot√£o an√°lise IA
    * ( ) Processamento IA em segundo plano
    * ( ) Setas cima, baixo, direita-esquerda
* ( ) Aba Resumo
---
At√© aqui:
[v. 0.8.06 (ia), de 28/09/2025]
[v. 0.8.06a (ia), de 28/09/2025] - 'Processando' em an√°lise sem funcionar
Desist√™ncia da ideia de processamento em segundo plano. O Streamlit n√£o permite.
---

......................................................................................................................
============
4. PARECER
============
=====Ajustes=====
* (x) Readequa√ß√£o do prompt para o LLM com a exclus√£o das an√°lises parciais e /An√°lise
=====Novidades=====
* (x) Vers√£o alpha do parecer implementada
---
At√© aqui:
[v. 0.8.07 (ia), de 03/10/2025]
---

=====Ajustes=====
* (x) Corre√ß√£o de ortografia
---
At√© aqui:
[v. 0.8.08 (ia), de 03/10/2025]
---

=====Ajustes=====
* (x) Gera√ß√£o do parecer - vers√£o alpha2
    - (x) Readequa√ß√£o do prompt para o LLM
    - (x) Thresholds de FinScore Bruto e FinScore Ajustado
    - (x) Thresholds de Serasa Score como "aprova√ß√£o com ressalvas" no caso de aprova√ß√£o do FinScore
    - (x) √çndices e contas cont√°beis como crit√©rios suplementares
* (x) Corre√ß√µes de ortografia
---
At√© aqui:
[v. 0.8.09 (ia), de 03/10/2025]
---

=====Ajustes=====
* (x) Gera√ß√£o do parecer - vers√£o alpha3
---
At√© aqui:
[v. 0.8.10 (ia), de 04/10/2025]
---

=====Ajustes=====
* (x) Gera√ß√£o do parecer - vers√£o alpha4 (mix alpha1 e alpha3)
---
At√© aqui:
[v. 0.8.11 (ia), de 04/10/2025]
---

=====Ajustes=====
* (x) Gera√ß√£o do parecer - vers√£o alpha5 (estrutura mais organizada)
---
At√© aqui:
[v. 0.8.12 (ia), de 04/10/2025]
---

=====Ajustes=====
* (x) P√°gina parecer - Campos decis√£o reconfigurados e bot√£o gerar parecer centralizado
* (x) Reestrutura√ß√£o da se√ß√£o "1. Introdu√ß√£o" do parecer:
    - (x) Mantido par√°grafo atual como primeiro
    - (x) Adicionado segundo par√°grafo com s√≠ntese executiva (antigo "Resumo Executivo")
    - (x) Adicionado terceiro par√°grafo descrevendo estrutura do parecer
    - (x) Removida se√ß√£o "2. Resumo Executivo"
    - (x) Renumeradas as se√ß√µes subsequentes (2. Metodologia, 3. An√°lise Detalhada, 4. Risco e Scoring, 5. Considera√ß√µes Finais)
* (x) Aperfei√ßoamento da se√ß√£o "2. Metodologia" do parecer:
    - (x) Contextualiza√ß√£o com conceitos da se√ß√£o /Sobre (Metodologia)
    - (x) Detalhamento das 5 etapas do FinScore
    - (x) Explica√ß√£o aprofundada do Serasa Score
    - (x) Adi√ß√£o de coluna "Interpreta√ß√£o" na tabela FinScore
    - (x) Adi√ß√£o de coluna "Significado" na tabela Serasa
    - (x) Novo subt√≥pico "2.3 Dados Cont√°beis e √çndices Financeiros"
    - (x) Novo subt√≥pico "2.4 Crit√©rios de Decis√£o" (expandido e contextualizado)
* (x) Removido bot√£o "üîÑ Regenerar" do parecer
* (x) Corre√ß√£o se√ß√£o "3.4 Efici√™ncia Operacional" do parecer:
    - (x) Atualizado para refletir que PMR, PMP e Giro do Ativo est√£o dispon√≠veis
    - (x) Adicionada interpreta√ß√£o sobre gest√£o do ciclo financeiro
    - (x) Inclu√≠das orienta√ß√µes sobre como interpretar cada indicador
* (x) BUGFIX: Corre√ß√£o de nomes de colunas na extra√ß√£o de dados de efici√™ncia:
    - (x) "PMR (dias)" ‚Üí "Per√≠odo M√©dio de Recebimento"
    - (x) "PMP (dias)" ‚Üí "Per√≠odo M√©dio de Pagamento"
    - (x) "Giro do Ativo (x)" ‚Üí "Giro do Ativo"
    - Causa: Mismatch entre nomes no DataFrame (utils_finscore.py) e busca no parecer
---
At√© aqui:
[v. 0.8.13 (ia), de 05/10/2025]
---

=====Ajustes=====
* (x) Reestrutura√ß√£o da se√ß√£o "4. An√°lise de Risco e Scoring" do parecer:
    - (x) Renomeada para "4. Resultados"
    - (x) Adicionado par√°grafo introdut√≥rio contextualizando a se√ß√£o
    - (x) Subse√ß√£o "4.1 FinScore" expandida com contextualiza√ß√£o detalhada:
        + Valida√ß√£o cruzada com √≠ndices de Liquidez
        + Valida√ß√£o cruzada com √≠ndices de Rentabilidade
        + Valida√ß√£o cruzada com √≠ndices de Endividamento
        + Valida√ß√£o cruzada com √≠ndices de Efici√™ncia Operacional
    - (x) Subse√ß√£o "4.2 Serasa" expandida com contextualiza√ß√£o detalhada:
        + An√°lise de converg√™ncia/diverg√™ncia com FinScore
        + Rela√ß√£o com capacidade de pagamento e liquidez
        + Rela√ß√£o com endividamento e hist√≥rico de cr√©dito
        + An√°lise de rentabilidade vs. hist√≥rico de inadimpl√™ncia
    - (x) Subse√ß√£o "4.3 S√≠ntese de Risco" renomeada para "4.3 Riscos da Opera√ß√£o":
        + An√°lise de riscos estruturais (valores absolutos + tend√™ncias temporais)
        + Sugest√µes de covenants espec√≠ficos baseados em vulnerabilidades identificadas
        + Lista de indicadores cr√≠ticos para monitoramento cont√≠nuo
        + S√≠ntese sobre necessidade de cl√°usulas restritivas
---
At√© aqui:
[v. 0.8.14 (ia), de 05/10/2025]
---

=====Ajustes=====
* (x) Simplifica√ß√£o e otimiza√ß√£o das instru√ß√µes da se√ß√£o "4. Resultados" do parecer:
    - (x) Redu√ß√£o do n√≠vel de prescri√ß√£o do prompt para dar mais liberdade √† IA
    - (x) Instru√ß√µes mais concisas e diretas
    - (x) Mantida a estrutura: par√°grafo introdut√≥rio + 4.1 FinScore + 4.2 Serasa + 4.3 Riscos da Opera√ß√£o
    - (x) Mantidos os requisitos de valida√ß√£o cruzada com dados cont√°beis e √≠ndices
    - (x) Mantida an√°lise temporal (valores + tend√™ncias) em 4.3
---
At√© aqui:
[v. 0.8.14a (ia), de 05/10/2025]
---

=====Aperfei√ßoamentos=====
* (x) Reescrita completa das se√ß√µes "2. Metodologia" e "3. An√°lise Detalhada dos Indicadores" do parecer:
    - (x) Se√ß√£o 2. Metodologia expandida com contexto narrativo e acessibilidade:
        + Par√°grafo introdut√≥rio explicando integra√ß√£o entre FinScore e Serasa
        + 2.1 FinScore: explica√ß√£o detalhada das 5 etapas com linguagem acess√≠vel
        + Adicionados "Por que" e "Como" em cada etapa
        + Inclu√≠dos exemplos pr√°ticos de interpreta√ß√£o de valores
        + Remo√ß√£o de tabela duplicada do Serasa
        + 2.2 Serasa: contextualiza√ß√£o "o que a empresa √©" vs "como se comporta"
        + Exemplos pr√°ticos de converg√™ncia/diverg√™ncia entre escores
        + 2.3 Dados Cont√°beis: reescrita com foco em "por que detalhar os √≠ndices"
        + 4 raz√µes objetivas: identificar drivers, detectar vulnerabilidades, definir covenants, compreender tend√™ncias
        + 2.4 Crit√©rios de Decis√£o: reescrita sem pesos fict√≠cios, focando na converg√™ncia de evid√™ncias
        + Explica√ß√£o de cada crit√©rio (FinScore prim√°rio, Serasa valida√ß√£o, √çndices complementares, Contexto qualitativo)
        + Cen√°rios de converg√™ncia/diverg√™ncia entre FinScore e Serasa com exemplos pr√°ticos
        + S√≠ntese da l√≥gica decis√≥ria com fundamenta√ß√£o t√©cnica rastre√°vel
    - (x) Se√ß√£o 3. An√°lise Detalhada dos Indicadores completamente reescrita:
        + Par√°grafo introdut√≥rio contextualizando as 5 dimens√µes de an√°lise
        + 3.1 Liquidez: contextualiza√ß√£o "o que significa na pr√°tica"
        + Explica√ß√£o detalhada de cada indicador com interpreta√ß√£o aplicada
        + Exemplos concretos: "R$ 2,50 para cada R$ 1,00 de d√≠vida"
        + Orienta√ß√£o para interpretar deteriora√ß√£o temporal
        + 3.2 Endividamento: contextualiza√ß√£o sobre financiamento pr√≥prio vs terceiros
        + Explica√ß√£o de cada indicador com consequ√™ncias reais
        + Exemplo: "mais de 4 anos de caixa operacional para quitar d√≠vidas"
        + An√°lise de evolu√ß√£o temporal (expans√£o planejada vs deteriora√ß√£o)
        + 3.3 Rentabilidade: contextualiza√ß√£o sobre sustentabilidade de longo prazo
        + Explica√ß√£o de cada indicador traduzida em termos concretos
        + Exemplo: "R$ 3,00 de cada R$ 100,00 chegam ao bolso dos s√≥cios"
        + Identifica√ß√£o de tend√™ncias (efici√™ncia vs competitividade)
        + 3.4 Efici√™ncia Operacional: contextualiza√ß√£o sobre ciclo de caixa
        + Explica√ß√£o integrada de PMR, PMP e Giro do Ativo
        + Exemplo: "folga de 15 dias no ciclo financeiro reduz necessidade de capital de giro"
        + An√°lise de cen√°rios (PMR < PMP vs PMR > PMP)
        + 3.5 Dados Patrimoniais: contextualiza√ß√£o de porte em valores absolutos
        + Orienta√ß√£o para interpretar tabela com exemplos narrativos
        + An√°lise de trajet√≥ria e poss√≠veis causas (expans√£o, crise, inadimpl√™ncia)
    - (x) Elimina√ß√£o de instru√ß√µes excessivamente prescritivas (bullets sem contexto)
    - (x) Adi√ß√£o de par√°grafos introdut√≥rios e explicativos em todas as subse√ß√µes
    - (x) Tradu√ß√£o de termos t√©cnicos para linguagem acess√≠vel a n√£o-especialistas
    - (x) √änfase em "implica√ß√µes pr√°ticas" e "o que isso significa na pr√°tica"
---
At√© aqui:
[v. 0.8.15 (ia), de 05/10/2025]
---

=====Ajustes=====
* (x) Melhorias incrementais no parecer e header:
    - (x) Corre√ß√£o da exibi√ß√£o de "aprovar_com_ressalvas" para "Aprovar com Ressalvas" no header
    - (x) Substitui√ß√£o de "Covenants Sugeridos" por "Salvaguardas a serem sopesadas" no header
    - (x) Aprimoramento dos bullets de "Motivos:" com formato estruturado:
        + Bullet 1 (FinScore): Nome do √≠ndice, classifica√ß√£o em texto, valor em par√™nteses, interpreta√ß√£o
        + Bullet 2 (Serasa): Nome do √≠ndice, classifica√ß√£o em texto, valor em par√™nteses, interpreta√ß√£o
        + Bullet 3 (Indicadores): Cr√≠tica baseada nos indicadores da se√ß√£o 3 (Liquidez, Rentabilidade, Endividamento)
    - (x) L√≥gica de cr√≠tica diferenciada por decis√£o:
        + Aprovar: enfatiza pontos positivos dos indicadores
        + Aprovar com ressalvas: equilibra pontos bons e ruins
        + N√£o aprovar: enfatiza pontos negativos
    - (x) Expans√£o do PolicyInputs para incluir dados adicionais:
        + serasa_score, classificacao_finscore, classificacao_serasa
        + liquidez_corrente, liquidez_seca, roe, margem_liquida, margem_ebitda, endividamento
    - (x) Nova fun√ß√£o _gerar_critica_indicadores() para an√°lise autom√°tica de indicadores
---
At√© aqui:
[v. 0.8.16 (ia), de 05/10/2025]
---

=====Novidades=====
* (x) Adequa√ß√£o do header de /Parecer
---
At√© aqui:
[v. 0.8.17 (ia), de 05/10/2025] - vers√£o pre-release-alpha
---

=====Ajustes=====
* (x) Bot√µes p√≥s-parecer:
    - (x) Remover bot√µes copiar e enviar por email
---
At√© aqui:
[v. 0.8.18 (ia), de 06/10/2025]
[v. 0.8.18a (ia), de 06/10/2025] - confirma√ß√µes de funcionamento
---

=====Novidades=====
* (x) Bot√µes p√≥s-parecer:
    - (x) Baixar Parecer (PDF) (xhtml2pdf)
---
At√© aqui:
[v. 0.8.19 (ia), de 06/10/2025]
---

=====Novidades=====
* (x) Bot√µes p√≥s-parecer:
    - (x) Seletor automatico, conforme o SO, de playright e xhtml2pdf
---
At√© aqui:
[v. 0.8.20 (ia), de 06/10/2025]
[v. 0.8.20a (dev), de 06/10/2025] - tranferi (ia) para (dev) (testado e funcionando)
[v. 0.8.20b (main), de 06/10/2025] - tranferi (dev) para (main)
[v. 0.8.20c (main), de 06/10/2025] - conflito streamlit cloud packages.txt (removido)
---

=====Ajustes=====
* (x) Reordenamento das abas em /An√°lise
* (x) Importa√ß√£o de dados Excel e Google Sheets corrigir formatos (sempre float) e valores faltantes (como 0)
=====Novidades=====
* (x) Aba 'Dados Cont√°beis' em /An√°lise
---
At√© aqui:
[v. 0.8.21 (ia), de 07/10/2025]
---

=====Ajustes=====
* (x) Formata√ß√£o t√≠tulos abas em /An√°lise (√≠cones + texto)
---
At√© aqui:
[v. 0.8.22 (ia), de 07/10/2025]
---

=====Ajustes=====
* (x) Conte√∫do do Parecer readquado (se√ß√£o Metodologia mais sint√©tica)
---
At√© aqui:
[v. 0.8.23 (ia), de 08/10/2025]
---

=====Ajustes=====
* (x) Bot√£o 'Aprovar' em /Lan√ßamentos/Scores
* (x) Sequ√™ncias da sidebar revisados e funcionando
---
At√© aqui:
[v. 0.8.24, de 09/10/2025]
[v. 0.8.24a, de 11/10/2025] - inconsist√™ncias no fluxo da sidebar
[v. 0.8.24b, de 11/10/2025] - fluxo da sidebar ok (finalmente!!)
---

=====Ajustes=====
* (x) Progress bar em mais etapas e melhorias visuais
---
At√© aqui:
[v. 0.8.25 (ia), de 11/10/2025]
---

=====Ajustes=====
* (x) Fluxo da sidebar de novo revisado e funcionando - mais determin√≠stico agora
---
At√© aqui:
[v. 0.8.25a (ia), de 11/10/2025]
---

=====Ajustes=====
* (x) Mensagem ‚ÄúBad message format ‚Äî 'setIn' cannot be called on an ElementNode‚Äù  ao gerar parecer removida
* (x) Fluxo da sidebar revisado e funcionando (5 vezes depois de desde [v. 0.8.25a (ia), de 11/10/2025])
=====Novidades=====
* (x) Novo visual e estrutura da P√°gina inicial (home.py)
---
At√© aqui:
[v. 0.8.26 (ia), de 11/10/2025]
---

=====Ajustes=====
* (x) Fluxo da sidebar refeito ap√≥s novas instabilidades (10 horas de tentativas)
* (x) Gerenciamento do fluxo da sidebar via session_state.py
* (x) Em tese, problema resolvido (quase enlouqueci) - race condition com restos de navega√ß√£o a cada ciclo e
c√≥digo mal otimizado e redundante.
---
At√© aqui:
[v. 0.8.27 (ia), de 11/10/2025]
---

=====Ajustes=====
* (x) P√°gina /Home com √≠cones funcionais e elementos visuais mais polidos
* (x) Favicon adicionada
---
At√© aqui:
[v. 0.8.28 (ia), de 12/10/2025]
---

=====Ajustes=====
* (x) Padroniza√ß√£o e harmomia visual com √≠cones e t√≠tulos em h3 (centralizados ou √† esquerda)
* (x) Testes feitos em todos os links e no c√°lculo de parecer da sidebar
---
At√© aqui:
[v. 0.8.29 (ia), de 12/10/2025]
---

=====Ajustes=====
* ( ) xxxxxxxxxxx
=====Novidades=====
* ( ) Mais texto na se√ß√£o 4 do parecer (Resultados)
* ( ) Gr√°fico na se√ß√£o 4 do parecer (Resultados)
* ( ) Bot√µes p√≥s-parecer:
    - ( ) Baixar Parecer (PDF) (playright)
---
At√© aqui:
[v. 0.8.xx (ia), de xx/10/2025]
---

=====Novidades=====
* ( ) Transpor os resultados da se√ß√£o /Parecer para a aba 'Resultado' em /An√°lise
* ( ) Gerar o resultado a partir de /An√°lise/Resultado
* ( ) Gerar parecer ser computado em segundo plano a partir do momento que se clica em 
'Calcular FinScore' em /Lan√ßamentos
---
At√© aqui:
[v. 0.8.xx (ia), de xx/10/2025]
---

......................................................................................................................
============
5. LOGIN
============
* ( ) Estudar bibliotecas
* ( ) Codificar

......................................................................................................................
============
Ideias
============
- Campos 'Dados do Cliente' com cr√≠tica de valores
- No dropdown da sidebar, inserir o menu/view 'Consultar', mas s√≥ depois de criar o backend com do banco de dados
- Para burlar o desbloqueio dos campos em Processo, basta saber os links dos submenus. Mascarar barra de endere√ßos ou
alguma outra solu√ß√£o para dar mais seguran√ßa.

MELHORIAS PONTUAIS
- Criar conte√∫do da se√ß√£o Contato (ex.: https://macmagazine.com.br/contato/). Definir com Assertif para onde 
isso apontar√°, se for necess√°ria mesmo.
- Clique de 'voltar ao topo' em Sobre/Gloss√°rio mostrar a topbar.
- For√ßar tema claro na vers√£o 1.x.yy (Beta)

BACKEND
- API REST para integra√ß√£o externa
- Dashboard administrativo
- Relat√≥rios em PDF
- Integra√ß√£o com mais fontes de dados
- Machine Learning para previs√µes
- Sistema de usu√°rios e permiss√µes
......................................................................................................................

